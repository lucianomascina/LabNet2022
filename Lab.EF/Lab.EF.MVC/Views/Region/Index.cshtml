@model List<Lab.EF.MVC.Models.RegionView>

@{
    ViewBag.Title = "Regions";
}

<h2 class="text-center">Regions</h2>

<button class="btn btn-primary btn-lg" id="getAll">Get All</button>

<hr />

<table class="table table-hover">
    <thead>
        <tr class="active">
            <th>
                Region ID
            </th>
            <th>
                Region Description
            </th>

        </tr>
    </thead>
    <tbody id="regions">
    </tbody>
</table>

<script src="/Scripts/jquery-3.4.1.js"></script>
<script>
    $(document).ready(function () {
        function GetRegions() {
            $.ajax({
                url: "/Region/GetAll",
                type: "GET",
                contentType: "application/json; charset=utf-8",
                data: "{}",
                dataType: "json",
                success: function (data) {
                    var row = "";
                    $.each(data, function (index, item) {
                        row += "<tr><td>" + item.RegionID + "</td><td>" + item.RegionDescription + "</td></tr>";
                    });
                    $("#regions").html(row);
                },
                error: function (result) {
                    alert("Error");
                },
            });
        };

        $('#getAll').click(function () {
            GetRegions();
        });
    });

</script>
